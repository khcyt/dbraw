const kh_global=Function("return globalThis;")()||Function("return this;")()||Function("return self;")();const as_module=undefined==this;const asWorker="undefined"===typeof kh_global.window&&"undefined"===typeof kh_global.process&&kh_global.self;const cf="kh_components";const mf="kh_components_esm";kh_global.kh??={};kh_global.kh.context??="undefined"!==typeof kh_global.window?kh_global.parent==kh_global?"window":"iframe":"undefined"!==typeof kh_global.process?"node.js":"undefined"!==typeof kh_global.self?kh_global.self.name??"worker":"unknown";kh_global.kh.storage??={};const cs=kh_global.kh.storage[cf]??={cf,ms:new Set};const ms=kh_global.kh.storage[mf]??={mf,cs};cs.ms.add(ms);import{isValid,isEmpty,isString,isDOMElement,currentFunctionName}from"/contrib/jsm/kh_earlybird.js";import{Error}from"/contrib/jsm/kh_classes.js";import{vjs}from"/contrib/jsm/kh_vanilla.js";const name=MF`${mf}`;const print_level=undefined;import{Logger}from"/contrib/jsm/kh_log.js";const kh_log=new Logger(print_level,()=>name);export class Component{#component_base_;get Șdom(){return undefined}get options(){return this.base()?.options}base(component_base){if(0==arguments.length||undefined==component_base)return this.#component_base_;if(!(component_base instanceof Component))throw new Error({msg:["invalid-argument","component-base",component_base]});this.#component_base_=component_base.base()??component_base}get flag(){return this.constructor.flag}glue(element=this.Șdom,component){const flag=this.flag;if(!isValid(flag))throw new Error({msg:["param-not-determined","flag","resolved-for",this]});if(element instanceof Component){component=element;element=this.Șdom}if(!isValid(element)||!isDOMElement(element))throw new Error({msg:["invalid-argument","element",element]});if(!isValid(component))return vjs.data(element,flag);else return vjs.data(element,flag,component)}static glue(element,component_type){const flag=component_type?.flag;if(!isValid(flag))throw new Error({msg:["param-not-determined","flag","resolved-for",component_type??"unknown component_type"]});return vjs.data(element,flag)}role(new_role,set_attr=true){if(0==arguments.length||!isValid(new_role))return vjs.data(this.Șdom,"role");vjs.data(this.Șdom,"role",new_role);if(set_attr)this.Șdom.setAttribute("role",new_role)}closestProperty(prop,barrier){if(!isValid(prop))return prop;const value=vjs.data(this.Șdom,prop);if(isValid(value))return value;const parent=this.parent?.();if(!isValid(parent)||this===barrier)return undefined;return parent.closestProperty(prop,barrier)}}const class_orient_=new Map([["vertical","kh-vlayout"],["horizontal","kh-hlayout"],["flex","kh-flayout"],["hswitch","kh-hlayout-switch"],["hswitch-r","kh-hlayout-switch-r"],["vswitch","kh-vlayout-switch"],["vswitch-r","kh-vlayout-switch"]]);export function class_from_orient(orient="flex"){if(!class_orient_.has(orient)){const unzip=kh_global.kh.storage.kh_js.unzipString;kh_log?.warn?.(T9`${unzip("invalid-argument")} ${orient} | ${unzip("during-execution")}`+T9`${unzip("of")} ${currentFunctionName()}`)}return class_orient_.get(orient)??"kh-flayout"}export function orient_from_class(class_name="kh-flayout",strong=false){if(isDOMElement(class_name)){if(strong){const{flexDirection}=vjs.style(class_name,{flexDirection:undefined});if(isValid(flexDirection))return"row"==flexDirection?"horizontal":"vertical"}return orient_from_class([...class_name.classList.values()])}if(Array.isArray(class_name)){return orient_from_class([...class_name].filter(cN=>-1!=[...class_orient_.values()].indexOf(cN))[0])}let rslt=[...class_orient_].filter(([k,v])=>class_name==v);return rslt?.[0][0]??"flex"}export function class_pretty(classes=[],as_string=true){if(Array.isArray(classes))classes=classes.join(" ");if(!isString(classes))return undefined;const ret=classes.split(" ").map(c=>c.trim("'\"`")).filter(c=>!isEmpty(c));return as_string?ret.join(" "):ret}kh_log.info?.(T9`data-host-type= ${vjs.attr(vjs.html,"data-host-type")}`);kh_global.async_require?.(`${"static"!=vjs.attr(vjs.html,"data-host-type")&&!isEmpty(kh_global.VERSION)?`/${kh_global.VERSION.substring(1)}`:""}/contrib/css/kh-components.css`);kh_global.LoadedScripts.get(mf).resolve(ms);