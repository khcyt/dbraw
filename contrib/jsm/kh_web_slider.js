const kh_global=Function("return globalThis;")()||Function("return this;")()||Function("return self;")();const as_module=undefined==this;const asWorker="undefined"===typeof window&&"undefined"===typeof process&&self;const cf="kh_web";const mf="kh_web_slider_esm";kh_global.kh??={};kh_global.kh.context??="undefined"!==typeof window?kh_global.parent==kh_global?"window":"iframe":"undefined"!==typeof process?"node.js":"undefined"!==typeof self?self.name??"worker":"unknown";kh_global.kh.storage??={};const cs=kh_global.kh.storage[cf]??={cf,ms:new Set};const ms=kh_global.kh.storage[mf]??={mf,cs};cs.ms.add(ms);const name=MF`${mf}`;const print_level=undefined;import{Logger}from"/contrib/jsm/kh_log.js";const kh_log=new Logger(print_level,(()=>name));import{isEmpty,isValid,isDOMElement,loadModule,currentFunctionName,isString,isObject}from"/contrib/jsm/kh_earlybird.js";import{not,yieldToMain}from"/contrib/jsm/kh_functions.js";import{JSON8MergePatch}from"/contrib/jsm/kh_classes.js";import{vjs}from"/contrib/jsm/kh_vanilla.js";class Embla{constructor(){}static async get(element,options={}){options.autoScroll=options.autoplay;const p_js=loadModule([Embla.#core_,options.autoScroll?Embla.#autoscroll_:undefined].filter(not(isEmpty)),false);const p_css=kh_global.async_require?.([Embla.#css_.default]);return Promise.all([p_js,p_css,options.promise??yieldToMain()]).then((async function([[Embla],_1,_2]){Embla=Embla?.default??Embla;delete options.promise;const add_modules=arguments[0][0].slice(1).map((module=>module.default??module)).map((module=>module?.())).filter(not(isEmpty));if("loop"==options.type)options.loop=true;if(isValid(options.start))options.startIndex=options.start;options.container=vjs(element,".embla__viewport",false)??vjs(element,".embla__container",false)??Embla.createContainer(undefined,element);if(isValid(options.pagination)&&false!=options.pagination&&isEmpty(vjs(element,".embla_prev",false))){element.insertAdjacentHTML("beforeend",`<button class="embla__prev">&lt;</button><button class="embla__next">&gt;</button>`);element.insertAdjacentHTML("beforeend",`<div class="embla__dots"></div>`)}const embla=new Embla(element,options,add_modules);if(isValid(options.pagination)&&false!=options.pagination){vjs.on("click",(()=>embla.scrollPrev()),".embla__prev");vjs.on("click",(()=>embla.scrollNext()),".embla__next")}return embla})).catch((error=>{kh_log.error?.(T9`error in ${currentFunctionName()} => ${error}`);throw error}))}static createRoot(options={}){const class_plus=options.class||"";delete options.class;return vjs.create("div",JSON8MergePatch.apply({class:`embla ${class_plus}`.trim(),ariaLabel:"Slider",style:{}},options))}static createContainer(options={},root){const class_plus=options.class||"";delete options.class;const container=vjs.create("div",JSON8MergePatch.apply({class:`embla__viewport ${class_plus}`.trim()},options),root??Embla.createRoot());return container}static createSlide(options,container,slide_content){container??=Embla.createContainer();const slides_parent=vjs(container,".embla__container",false)??Embla.createSlideList(undefined,container);const class_plus=options.class||"";delete options.class;const slide=vjs.create("div",JSON8MergePatch.apply({class:`embla__slide ${class_plus}`.trim()},options),slides_parent);if(isValid(slide_content))slide.insertAdjacentElement("afterbegin",slide_content);return slide}static createSlideList(options={},container){container??=Embla.createContainer();const class_plus=options.class||"";delete options.class;const ul=vjs.create("div",JSON8MergePatch.apply({class:"embla__container "+class_plus},options),container);return ul}static#core_="/cdn/embla-carousel/esm/embla-carousel.esm.js";static#autoscroll_="/cdn/embla-carousel-autoscroll/esm/embla-carousel-autoscroll.esm.js";static#css_={default:"/contrib/css/embla.css",autoscroll:undefined,controller:undefined};static events=Object.freeze({moved:"slidesInView",drag:"scroll",dragged:"settle"})}class Glide{constructor(){}static async get(element,options={}){const p_js=loadModule(Glide.#core_);const p_css=kh_global.async_require?.([Glide.#css_.default,Glide.#css_.theme]);return Promise.all([p_js,p_css,options.promise??yieldToMain()]).then((async([{default:Glide},_1,_2])=>{delete options.promise;if("loop"==options.type)options.type="carousel";if(isValid(options.start))options.startAt=options.start;if(isValid(options.perPage))options.perView=options.perPage;const selector=isString(element)?element:"."+[...element.classList.values()].join(".");element=!isString(element)?element:vjs(selector,false);if(true&&isEmpty(vjs(element,"[data-glide-el=controls]",false))){element.insertAdjacentHTML("beforeend",`<div class="glide__arrows" data-glide-el="controls">\n    <button class="glide__arrow glide__arrow--left" data-glide-dir="<">prev</button>\n    <button class="glide__arrow glide__arrow--right" data-glide-dir=">">next</button>\n  </div>`)}if(true&&isEmpty(vjs(element,'[data-glide-el="controls[nav]"]',false))){element.insertAdjacentHTML("beforeend",`<div class="glide__bullets" data-glide-el="controls[nav]">\n    <button class="glide__bullet" data-glide-dir="=0"></button>\n    <button class="glide__bullet" data-glide-dir="=1"></button>\n    <button class="glide__bullet" data-glide-dir="=2"></button>\n  </div>`)}const slider=new Glide(selector,options).mount();return slider})).catch((error=>{kh_log.error?.(T9`error in ${currentFunctionName()} => ${error}`);throw error}))}static createRoot(options={}){const class_plus=`${options.class||""} ${options.theme??""}`;delete options.class;delete options.theme;return vjs.create("div",JSON8MergePatch.apply({class:"glide "+class_plus,ariaLabel:"Slider",style:{}},options))}static createContainer(options={},root,options4slideList){const class_plus=options.class||"";delete options.class;const container=vjs.create("div",JSON8MergePatch.apply({class:"glide__track "+class_plus,dataGlideEl:"track"},options),root??Glide.createRoot());if(isValid(options4slideList))Glide.createSlideList(options4slideList,container);return container}static createSlide(options,container,slide_content){container??=Glide.createContainer();const ul=vjs(container,"ul",false)??Glide.createSlideList(undefined,container);const class_plus=options.class||"";delete options.class;const slide=vjs.create("li",JSON8MergePatch.apply({class:"glide__slide "+class_plus},options),ul);if(isValid(slide_content))slide.insertAdjacentElement("afterbegin",slide_content);return slide}static createSlideList(options={},container){container??=Glide.createContainer();const class_plus=options.class||"";delete options.class;const ul=vjs.create("ul",JSON8MergePatch.apply({class:"glide__list "+class_plus},options),container);return ul}static#core_="/cdn/@glidejs/glide/dist/glide.esm.js";static#css_={default:"https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.css",theme:"https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.theme.css"};static events=Object.freeze({moved:"move.after",drag:"swipe.start",dragged:"swipe.end"})}export class Splide{constructor(){}static async get(element,options){const p_js=loadModule([Splide.#core_,options.autoScroll?Splide.#autoplay_:undefined].filter(not(isEmpty)));if(isObject(options.pagination))options.pagination=true;const theme=options.theme||(!isString(element)&&element.classList.contains("skyblue")?"skyblue":!isString(element)&&element.classList.contains("sea-green")?"sea-green":"")||"default";delete options.theme;const p_css=kh_global.async_require?.(Splide.#css_[theme]);return Promise.all([p_js,p_css,options.promise??yieldToMain()]).then((async([{Splide,AutoScroll},_1,_2])=>{delete options.promise;const mountOpts=Object.fromEntries(Object.entries({AutoScroll}).filter((([k,v])=>isValid(v))));const slider=new Splide(element,options).mount(mountOpts);if("function"==typeof options.ehr_drag)options.ehr_drag=options.ehr_drag();if(isDOMElement(options.ehr_drag)){slider.on("drag",(()=>{vjs.class(vjs(options.ehr_drag,"li.splide__slide:not(.is-active)",true),{dragging:true})}));slider.on("dragged",(()=>{vjs.class(vjs(options.ehr_drag,"li.splide__slide:not(.is-active)",true),{dragging:null})}))}return slider})).catch((error=>{kh_log.error?.(T9`error in ${currentFunctionName()} => ${error}`);throw error}))}static createRoot(options={}){const class_plus=`${options.class||""} ${options.theme??""}`;delete options.class;delete options.theme;return vjs.create("div",JSON8MergePatch.apply({class:"splide "+class_plus,ariaLabel:"Slider",style:{}},options))}static createContainer(options={},root,options4slideList){const class_plus=options.class||"";delete options.class;const container=vjs.create("div",JSON8MergePatch.apply({class:"splide__track "+class_plus},options),root??Splide.createRoot());if(isValid(options4slideList))Splide.createSlideList(options4slideList,container);return container}static createSlide(options,container,slide_content){container??=Splide.createContainer();const ul=vjs(container,"ul",false)??Splide.createSlideList(undefined,container);const class_plus=options.class||"";delete options.class;const slide=vjs.create("li",JSON8MergePatch.apply({class:"splide__slide "+class_plus},options),ul);if(isValid(slide_content))slide.insertAdjacentElement("afterbegin",slide_content);return slide}static createSlideList(options={},container){container??=Splide.createContainer();const class_plus=options.class||"";delete options.class;const ul=vjs.create("ul",JSON8MergePatch.apply({class:"splide__list "+class_plus},options),container);return ul}static#core_="/cdn/@splidejs/splide/dist/js/splide.esm.js";static#autoplay_="/cdn/@splidejs/splide-extension-auto-scroll/dist/js/splide-extension-auto-scroll.esm.js";static#css_={default:"https://cdn.jsdelivr.net/npm/@splidejs/splide/dist/css/themes/splide-default.min.css",skyblue:"https://cdn.jsdelivr.net/npm/@splidejs/splide/dist/css/themes/splide-skyblue.min.css","sea-green":"https://cdn.jsdelivr.net/npm/@splidejs/splide/dist/css/themes/splide-sea-green.min.css"};static events=Object.freeze({moved:"moved",drag:"drag",dragged:"dragged"})}export class Swiper{constructor(){}static async get(element,options={}){if(isValid(options.autoScroll))options.autoplay=options.autoScroll;if(isValid(options.arrows))options.navigation=options.arrows;const p_js=loadModule([Swiper.#core_,options.autoScroll||options.autoplay?Swiper.#autoplay_:undefined,options.controller?Swiper.#controller_:undefined,options.navigation?Swiper.#navigation_:undefined,options.pagination?Swiper.#pagination_:undefined].filter(not(isEmpty)),false);const theme=options.theme||(!isString(element)&&element.classList.contains("skyblue")?"skyblue":!isString(element)&&element.classList.contains("sea-green")?"sea-green":"")||"default";delete options.theme;const p_css=kh_global.async_require?.(Swiper.#css_[theme]);return Promise.all([p_js,p_css,options.promise??yieldToMain()]).then((async function([[Swiper],_1,_2]){Swiper=Swiper?.default??Swiper;delete options.promise;delete options.ehr_drag;const add_modules=arguments[0][0].slice(1).map((module=>module.default??module));options.modules=Object.values(add_modules);if("loop"==options.type)options.loop=true;if(isValid(options.start))options.initialSlide=options.start;if(isValid(options.perPage))options.slidesPerView=options.perPage;if(isValid(options.gap))options.spaceBetween=options.gap;if(!options.createElements&&isValid(options.pagination)&&false!=options.pagination&&isEmpty(vjs(element,".swiper-pagination",false))){element.insertAdjacentHTML("beforeend",`<div class="swiper-pagination"></div>`)}if(!options.createElements&&isValid(options.navigation)&&false!=options.navigation&&isEmpty(vjs(element,".swiper-button-prev",false))){element.insertAdjacentHTML("beforeend",`<div class="swiper-button-prev"></div><div class="swiper-button-next"></div>`)}return new Swiper(element,options)})).catch((error=>{kh_log.error?.(T9`error in ${currentFunctionName()} => ${error}`);throw error}))}static createRoot(options={}){const class_plus=options.class||"";delete options.class;return vjs.create("div",JSON8MergePatch.apply({class:"swiper "+class_plus,ariaLabel:"Slider",style:{}},options))}static createContainer(options={},root){const class_plus=options.class||"";delete options.class;const container=vjs.create("div",JSON8MergePatch.apply({class:"swiper-wrapper "+class_plus},options),root??Swiper.createRoot());return container}static createSlide(options,container,slide_content){container??=Swiper.createContainer();const class_plus=options.class||"";delete options.class;const slide=vjs.create("div",JSON8MergePatch.apply({class:"swiper-slide "+class_plus},options),container);if(isValid(slide_content))slide.insertAdjacentElement("afterbegin",slide_content);return slide}static#core_="/cdn/swiper/swiper.mjs";static#autoplay_="/cdn/swiper/modules/autoplay.min.mjs";static#controller_="/cdn/swiper/modules/controller.min.mjs";static#navigation_="/cdn/swiper/modules/navigation.min.mjs";static#pagination_="/cdn/swiper/modules/pagination.min.mjs";static#css_={default:"https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css",autoplay:"https://cdn.jsdelivr.net/npm/swiper/modules/autoplay.min.css",controller:"https://cdn.jsdelivr.net/npm/swiper/modules/controller.min.css"};static events=Object.freeze({moved:"slideChange",drag:"touchStart",dragged:"touchEnd"})}kh_global.LoadedScripts.get(mf).resolve(ms);